{"version":3,"sources":["app.js"],"names":["BorrowApp","angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","$scope","Users","selectUser","$state","borrow","bool","query","data","allUsers","error","console","log","select","id","setId","go","$http","$uibModal","$log","navTitle","home","titleChange","is","prevState","nextState","animationsEnabled","open","size","animation","resolve","getId","get","success","status","things","myThings","$uibModalInstance","ok","close","cancel","dismiss","factory","$resource","service","this"],"mappings":"AAAA,GAAAA,WAAAC,QAAAC,OAAA,aAAA,aAAA,YAAA,YAAA,gBAEAF,WAAAG,QAAA,iBAAA,qBACA,SAAAC,EAAAC,GAEAA,EAAAC,UAAA,KAEAF,EACAG,MAAA,QACAC,IAAA,IACAC,YAAA,sBACAC,WAAA,aAEAH,MAAA,SACAC,IAAA,IACAC,YAAA,qBACAC,WAAA,eAEAH,MAAA,gBACAC,IAAA,eACAC,YAAA,0BAEAF,MAAA,cACAC,IAAA,aACAC,YAAA,wBAEAF,MAAA,kBACAC,IAAA,iBACAC,YAAA,+BAUAT,UAAAU,WAAA,YAAA,SAAA,QAAA,aAAA,SAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACAH,EAAAI,OAAA,sBAEAJ,EAAAK,MAAA,EAGAJ,EAAAK,MAAA,SAAAC,GACAP,EAAAQ,SAAAD,GACA,QAAAE,GAAAA,GACAC,QAAAC,IAAA,iBAAAF,KAIAT,EAAAY,OAAA,SAAAC,GAEAX,EAAAY,MAAAD,GACAV,EAAAY,GAAA,oBAKA1B,UAAAU,WAAA,cACA,SAAA,QAAA,SAAA,YAAA,OAAA,aACA,SAAAC,EAAAgB,EAAAb,EAAAc,EAAAC,EAAAhB,GAEAF,EAAAmB,SAAA,kBAGAnB,EAAAoB,KAAA,WACAjB,EAAAY,GAAA,SAGAf,EAAAqB,YAAA,WACAlB,EAAAmB,GAAA,gBACAtB,EAAAmB,SAAA,kBACAhB,EAAAmB,GAAA,kBACAtB,EAAAmB,SAAA,mBACAhB,EAAAmB,GAAA,gBACAtB,EAAAmB,SAAA,iBAIAnB,EAAAuB,UAAA,WACAb,QAAAC,IAAAR,GACAA,EAAAmB,GAAA,gBACAnB,EAAAY,GAAA,kBACAZ,EAAAmB,GAAA,kBACAnB,EAAAY,GAAA,cACAZ,EAAAmB,GAAA,eACAnB,EAAAY,GAAA,gBAEAf,EAAAqB,eAEArB,EAAAwB,UAAA,WACAd,QAAAC,IAAAR,EAAA,QACAA,EAAAmB,GAAA,gBACAnB,EAAAY,GAAA,cACAZ,EAAAmB,GAAA,cACAnB,EAAAY,GAAA,kBACAZ,EAAAmB,GAAA,mBACAnB,EAAAY,GAAA,gBAEAf,EAAAqB,eAIArB,EAAAyB,mBAAA,EAEAzB,EAAA0B,KAAA,SAAAC,GACAV,EAAAS,MACAE,UAAA5B,EAAAyB,kBACA3B,YAAA,oBACAC,WAAA,oBACA4B,KAAAA,EACAE,aAOA,IAAAhB,GAAAX,EAAA4B,OAEAd,GAAAe,IAAA,qBAAAlB,GAAAmB,QAAA,SAAAzB,EAAA0B,GAEAjC,EAAAkC,OAAA3B,IAOAS,EAAAe,IAAA,mBAAAlB,GAAAmB,QAAA,SAAAzB,EAAA0B,GACAvB,QAAAC,IAAA,WAAAJ,GACAP,EAAAmC,SAAA5B,OAOAlB,UAAAU,WAAA,qBAAA,SAAA,oBAAA,SAAAC,EAAAoC,GACApC,EAAAqC,GAAA,WACAD,EAAAE,SAGAtC,EAAAuC,OAAA,WACAH,EAAAI,QAAA,cAKAnD,UAAAoD,QAAA,SAAA,YAAA,SAAAC,GACA,MAAAA,GAAA,iBAGArD,UAAAoD,QAAA,SAAA,YAAA,SAAAC,GACA,MAAAA,GAAA,wBAIArD,UAAAsD,QAAA,cAAA,WACAC,KAAA9B,MAAA,SAAAD,GACA+B,KAAA/B,GAAAA,GAEA+B,KAAAd,MAAA,WACA,MAAAc,MAAA/B","file":"concat.js","sourcesContent":["var BorrowApp = angular.module('BorrowApp', ['ngResource', 'ngAnimate', 'ui.router', 'ui.bootstrap']);\n\nBorrowApp.config(['$stateProvider', '$urlRouterProvider', \n  function($stateProvider, $urlRouterProvider) {\n\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n    .state('main', {\n      url: '/',\n      templateUrl: 'app/views/main.html',\n      controller: 'MainCtrl'\n    })\n    .state('stuff', {\n      url: '/',\n      templateUrl: 'app/views/nav.html',\n      controller: 'BorrowCtrl'\n    })\n    .state('stuff.search', {\n      url: 'stuff/search',\n      templateUrl: 'app/views/borrow.html'\n    })\n    .state('stuff.lend', {\n      url: 'stuff/lend',\n      templateUrl: 'app/views/lend.html',\n    })\n    .state('stuff.borrowed', {\n      url: 'stuff/borrowed',\n      templateUrl: 'app/views/borrowed.html'\n    })\n\n  }]); // END config\n\n/////////////////////////\n//     CONTROLLERS    //\n///////////////////////\n\n// MAIN CTRL\nBorrowApp.controller('MainCtrl', ['$scope', 'Users', 'selectUser', '$state', function($scope, Users, selectUser, $state) {\n  $scope.borrow = \"BegBorrowNeverSteal\";\n  // fad in and out pills\n  $scope.bool = true;\n  // include User from resource factory in array\n  // query express Users for users\n  Users.query(function success(data) {\n    $scope.allUsers = data;\n  }, function error(error) {\n    console.log(\"Error allUsers\", error);\n  });\n\n  // function for sending user selection to borrow page\n  $scope.select = function(id){\n    // console.log(\"state\", $state);\n    selectUser.setId(id);\n    $state.go('stuff.search');\n  };\n}]); // END MainCtrl\n\n// BORROW CTRL\nBorrowApp.controller('BorrowCtrl', \n  ['$scope', '$http', '$state', '$uibModal', '$log', 'selectUser', \n  function($scope, $http, $state, $uibModal, $log, selectUser) {\n  \n  $scope.navTitle = \"Stuff to Borrow\";\n\n  // NAVIGATE\n  $scope.home = function() {\n    $state.go('main');\n  }\n\n  $scope.titleChange = function(){\n    if ($state.is('stuff.search')) {\n      $scope.navTitle = \"Stuff to Borrow\"; \n    } else if ($state.is('stuff.borrowed')) {\n      $scope.navTitle = \"Stuff I Borrowed\"; \n    } else if ($state.is('stuff.lend')) {\n      $scope.navTitle = \"Stuff I Lend\"; \n    }   \n  }\n\n  $scope.prevState = function(){\n      console.log($state);\n    if ($state.is('stuff.search')) {\n      $state.go('stuff.borrowed');\n    } else if ($state.is('stuff.borrowed')) {\n      $state.go('stuff.lend')\n    } else if ($state.is('stuff.lend')) {\n      $state.go('stuff.search');\n    }\n    $scope.titleChange();\n  }\n  $scope.nextState = function(){\n      console.log($state, \"HERE\");\n    if ($state.is('stuff.search')) {\n      $state.go('stuff.lend');\n    } else if ($state.is('stuff.lend')) {\n      $state.go('stuff.borrowed')\n    } else if ($state.is('stuff.borrowed')) {\n      $state.go('stuff.search');\n    }\n    $scope.titleChange();\n  }\n\n  // NEW ITEM MODAL\n  $scope.animationsEnabled = true;\n\n  $scope.open = function(size) {\n    var modalInstance = $uibModal.open({\n      animation: $scope.animationsEnabled,\n      templateUrl: 'newItemModal.html',\n      controller: 'ModalInstanceCtrl',\n      size: size,\n      resolve: {}\n    });\n  }\n\n\n\n  // GET USER SELECTED\n  var id = selectUser.getId();\n  // $http call to backend route that queries db\n  $http.get('/api/borrow-stuff/' + id).success(function(data, status) {\n      // console.log('Data', data);\n      $scope.things = data;\n    })\n  // Items.query(function success(data) {\n  //   $scope.items = data;\n  // });\n\n  // GET USER LEND\n  $http.get('/api/lend-stuff/' + id).success(function(data, status) {\n    console.log(\"myThings\", data);\n    $scope.myThings = data;\n  })\n}]); // END BorrowCtrl\n\n\n// MODAL INSTANCE CTRL\n\nBorrowApp.controller('ModalInstanceCtrl', ['$scope', '$uibModalInstance', function($scope, $uibModalInstance) {\n  $scope.ok = function(){\n    $uibModalInstance.close();\n  }\n\n  $scope.cancel = function() {\n    $uibModalInstance.dismiss('cancel');\n  }\n}]); // END modal instance Ctrl\n\n// FACTORIES\nBorrowApp.factory('Users', ['$resource', function($resource) {\n  return $resource('/api/users');\n}]);\n\nBorrowApp.factory('Items', ['$resource', function($resource) {\n  return $resource('/api/borrow-stuff');\n}]);\n\n// SERVICES\nBorrowApp.service('selectUser', [function() {\n  this.setId = function(id) {\n    this.id = id;\n  }\n  this.getId = function(){\n    return this.id;\n  }\n}]);"],"sourceRoot":"/source/"}