{"version":3,"sources":["app.js"],"names":["BorrowApp","angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","$scope","Users","selectUser","$state","borrow","bool","query","data","allUsers","error","console","log","select","id","setId","go","$http","borrowStuff","prevState","is","nextState","getId","get","success","status","items","factory","$resource","service","this"],"mappings":"AAAA,GAAAA,WAAAC,QAAAC,OAAA,aAAA,aAAA,YAAA,aAEAF,WAAAG,QAAA,iBAAA,qBACA,SAAAC,EAAAC,GAEAA,EAAAC,UAAA,KAEAF,EACAG,MAAA,QACAC,IAAA,IACAC,YAAA,sBACAC,WAAA,aAEAH,MAAA,SACAC,IAAA,IACAC,YAAA,qBACAC,WAAA,eAEAH,MAAA,gBACAC,IAAA,UACAC,YAAA,0BAEAF,MAAA,cACAC,IAAA,QACAC,YAAA,wBAEAF,MAAA,kBACAC,IAAA,YACAC,YAAA,+BAQAT,UAAAU,WAAA,YAAA,SAAA,QAAA,aAAA,SAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACAH,EAAAI,OAAA,sBAEAJ,EAAAK,MAAA,EAGAJ,EAAAK,MAAA,SAAAC,GACAP,EAAAQ,SAAAD,GACA,QAAAE,GAAAA,GACAC,QAAAC,IAAA,iBAAAF,KAIAT,EAAAY,OAAA,SAAAC,GACAH,QAAAC,IAAA,QAAAR,GACAD,EAAAY,MAAAD,GACAV,EAAAY,GAAA,oBAIA1B,UAAAU,WAAA,cAAA,SAAA,QAAA,SAAA,aAAA,SAAAC,EAAAgB,EAAAb,EAAAD,GACAF,EAAAiB,YAAA,kBAEAjB,EAAAkB,UAAA,WACAR,QAAAC,IAAAR,GACAA,EAAAgB,GAAA,gBACAhB,EAAAY,GAAA,kBACAZ,EAAAgB,GAAA,kBACAhB,EAAAY,GAAA,cACAZ,EAAAgB,GAAA,eACAhB,EAAAY,GAAA,iBAGAf,EAAAoB,UAAA,WACAV,QAAAC,IAAAR,EAAA,QACAA,EAAAgB,GAAA,gBACAhB,EAAAY,GAAA,cACAZ,EAAAgB,GAAA,cACAhB,EAAAY,GAAA,kBACAZ,EAAAgB,GAAA,mBACAhB,EAAAY,GAAA,gBAIA,IAAAF,GAAAX,EAAAmB,OAEAL,GAAAM,IAAA,qBAAAT,GAAAU,QAAA,SAAAhB,EAAAiB,GACAd,QAAAC,IAAA,OAAAJ,GACAP,EAAAyB,MAAAlB,OASAlB,UAAAqC,QAAA,SAAA,YAAA,SAAAC,GACA,MAAAA,GAAA,iBAGAtC,UAAAqC,QAAA,SAAA,YAAA,SAAAC,GACA,MAAAA,GAAA,wBAIAtC,UAAAuC,QAAA,cAAA,WACAC,KAAAf,MAAA,SAAAD,GACAgB,KAAAhB,GAAAA,GAEAgB,KAAAR,MAAA,WACA,MAAAQ,MAAAhB","file":"concat.js","sourcesContent":["var BorrowApp = angular.module('BorrowApp', ['ngResource', 'ngAnimate', 'ui.router']);\n\nBorrowApp.config(['$stateProvider', '$urlRouterProvider', \n  function($stateProvider, $urlRouterProvider) {\n\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n    .state('main', {\n      url: '/',\n      templateUrl: 'app/views/main.html',\n      controller: 'MainCtrl'\n    })\n    .state('stuff', {\n      url: '/',\n      templateUrl: 'app/views/nav.html',\n      controller: 'BorrowCtrl'\n    })\n    .state('stuff.search', {\n      url: '/search',\n      templateUrl: 'app/views/borrow.html'\n    })\n    .state('stuff.lend', {\n      url: '/lend',\n      templateUrl: 'app/views/lend.html',\n    })\n    .state('stuff.borrowed', {\n      url: '/borrowed',\n      templateUrl: 'app/views/borrowed.html'\n    })\n\n  }]); // end config\n\n\n// CONTROLLERS\n\nBorrowApp.controller('MainCtrl', ['$scope', 'Users', 'selectUser', '$state', function($scope, Users, selectUser, $state) {\n  $scope.borrow = \"BegBorrowNeverSteal\";\n  // fad in and out pills\n  $scope.bool = true;\n  // include User from resource factory in array\n  // query express Users for users\n  Users.query(function success(data) {\n    $scope.allUsers = data;\n  }, function error(error) {\n    console.log(\"Error allUsers\", error);\n  });\n\n  // function for sending user selection to borrow page\n  $scope.select = function(id){\n    console.log(\"state\", $state);\n    selectUser.setId(id);\n    $state.go('stuff.search');\n  };\n}]); // end MainCtrl\n\nBorrowApp.controller('BorrowCtrl', ['$scope', '$http', '$state', 'selectUser', function($scope, $http, $state, selectUser) {\n  $scope.borrowStuff = \"Stuff to Borrow\";\n  // NAVIGATE\n  $scope.prevState = function(){\n      console.log($state);\n    if ($state.is('stuff.search')) {\n      $state.go('stuff.borrowed');\n    } else if ($state.is('stuff.borrowed')) {\n      $state.go('stuff.lend')\n    } else if ($state.is('stuff.lend')) {\n      $state.go('stuff.search');\n    }\n  }\n  $scope.nextState = function(){\n      console.log($state, \"HERE\");\n    if ($state.is('stuff.search')) {\n      $state.go('stuff.lend');\n    } else if ($state.is('stuff.lend')) {\n      $state.go('stuff.borrowed')\n    } else if ($state.is('stuff.barrowed')) {\n      $state.go('stuff.search');\n    }\n  }\n  // GET USER SELECTED\n  var id = selectUser.getId();\n  // $http call to backend route that queries db\n  $http.get(\"/api/borrow-stuff/\" + id).success(function(data, status) {\n      console.log('Data', data);\n      $scope.items = data;\n    })\n  // Items.query(function success(data) {\n  //   $scope.items = data;\n  // });\n}]); // end BorrowCtrl\n\n\n// FACTORIES\nBorrowApp.factory('Users', ['$resource', function($resource) {\n  return $resource('/api/users');\n}]);\n\nBorrowApp.factory('Items', ['$resource', function($resource) {\n  return $resource('/api/borrow-stuff');\n}]);\n\n// SERVICES\nBorrowApp.service('selectUser', [function() {\n  this.setId = function(id) {\n    this.id = id;\n  }\n  this.getId = function(){\n    return this.id;\n  }\n}]);"],"sourceRoot":"/source/"}